# Hypixel Skyblock Bazaar Price Prediction

This project provides tools to collect and predict prices for items in the Hypixel Skyblock Bazaar marketplace. It uses time series forecasting models including VECM, ARIMA, and LSTM to predict future item prices.

## Features

- **Data Collection**: Continuously fetches live Bazaar data from the Hypixel API
- **Price Prediction**: Forecasts future prices using integrated machine learning models
- **Multiple Models**: Uses VECM (Vector Error Correction Model), ARIMA, and LSTM neural networks
- **Visualization**: Generates plots showing historical prices and predictions
- **Model Persistence**: Saves trained models for future use

## Requirements

- Python 3.9+
- Hypixel API key (free from Hypixel website)
- Required Python packages (install via `pip install -r requirements.txt`)

## Installation

1. Clone the repository:
```bash
git clone https://github.com/CastorYu/Hypixel_Skyblock_Bazaar_Item_Price_Prediction.git
cd Hypixel_Skyblock_Bazaar_Item_Price_Prediction
```

2. Install dependencies:
```bash
pip install -r requirements.txt
```

## Usage

### 1. Data Collection
Run the data collector to gather Bazaar data:
```bash
python collect.py
```
- Enter your Hypixel API key when prompted
- Data will be saved to `bazaar_data.jsonl` every 20 seconds
- Press `Ctrl+C` to stop collection

### 2. Price Prediction
Predict future prices for an item:
```bash
python cli.py [ITEM_ID] [OPTIONS]
```

**Examples:**
```bash
# Predict ENCHANTED_DIAMOND prices for next 24 hours
python cli.py ENCHANTED_DIAMOND

# Predict ENCHANTED_GOLD prices for next 48 hours
python cli.py ENCHANTED_GOLD --periods 48

# Use debug mode
python cli.py ENCHANTED_IRON --debug
```

**Options:**
- `--data-file`: Custom data file path (default: `bazaar_data.jsonl`)
- `--periods`: Hours to predict (default: 24)
- `--debug`: Enable debug logging

## File Structure

```
Skyblock_Price_Prediction/
├── cli.py               # Price prediction CLI tool
├── collect.py           # Data collection script
├── README.md            # Project documentation (this file)
├── requirements.txt     # Python dependencies
├── integrated_models/   # Saved machine learning models
├── integrated_plots/    # Generated price prediction plots
└── integrated_predictions/  # JSON prediction results

```

## Models Overview

The prediction system uses a hierarchical approach:

1. **Constant Price Check**: For items with stable prices
2. **VECM (Vector Error Correction Model)**: For items with correlated price/volume data
3. **ARIMA-LSTM Ensemble**: Combined predictions from:
   - ARIMA (AutoRegressive Integrated Moving Average)
   - LSTM (Long Short-Term Memory) neural network

### Model Selection Logic:
- First attempts VECM for items with sufficient correlated features
- Falls back to ARIMA-LSTM ensemble if VECM fails
- Uses simple average for constant price items

## Dependencies

The project requires these Python packages:

```
polars
numpy
requests
scikit-learn
statsmodels
tensorflow (optional for LSTM)
matplotlib
joblib
python-dateutil
```

All dependencies are listed in `requirements.txt`.

## Output Files

After running predictions:
- **integrated_predictions/[ITEM_ID].json**: JSON file with prediction data
- **integrated_plots/[ITEM_ID].png**: Price history and prediction plot
- **integrated_models/**: Trained model files (ARIMA, LSTM, VECM)

## Notes

- The script may contain bugs as it is written by hand and annotated using Qwen-3-Coder.
- This README is generated by Deepseek-R1-0528. 
- For LSTM functionality, TensorFlow must be installed
- VECM requires statsmodels v0.14.0 or newer
- Predictions are made for buy prices only
- Also special thanks to @303entity303 for inspiring me, though this script is an independant project that didnt quite used his repo. 
